(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(70)},36:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),i=a.n(c),l=a(6),s=(a(36),a(10)),o=a(11),m=a(13),u=a(12),d=a(8),v=a(14),p=a(7),E=a(28),h=a.n(E).a.create({baseURL:"https://www.eventbriteapi.com/v3/",headers:{Authorization:"Bearer ".concat("E2Y5WNPQNPDDMIWHMFFZ")}}),_=(a(56),a(57),function(e){var t=e.eventName,a=e.eventImage,n=e.eventDate,c=e.eventPlace,i=new Date(n),l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][i.getDay()],s=["January","February","March","April","May","June","July","August","September","October","November","December"][i.getMonth()].substring(0,3),o=i.getDate(),m="".concat(l,", ").concat(s," ").concat(o," ");return r.a.createElement("div",{className:"card__container"},r.a.createElement("div",{className:"img__container",style:{backgroundImage:"url(".concat(a,")")}}),r.a.createElement("div",{className:"info__container"},r.a.createElement("p",{className:"card__event-date"},m),r.a.createElement("h2",{className:"card__event-name"},t),r.a.createElement("p",{className:"card__event-place"},"".concat(c,", Madrid"))))}),g=(a(58),function(e){var t=e.data;return r.a.createElement("ul",{className:"event-list__container"},t.map(function(e){var t;return t=null!==e.logo?e.logo.url:"https://www.eventbrite.es/static/images/search/placeholder3.png",r.a.createElement("li",{key:e.id},r.a.createElement(l.b,{to:"/detail/".concat(e.id)},r.a.createElement(_,{eventName:e.name.text,eventImage:t,eventDate:e.start.local,eventPlace:e.venue.name})))}))}),f=(a(67),function(e){var t=e.dataArr,a=e.loading;return r.a.createElement("div",{className:"page__container"},r.a.createElement("div",{className:"circle"},r.a.createElement("div",{className:"circle--back"}),r.a.createElement("div",{className:"circle--front"})),r.a.createElement("header",{className:"page__header"},r.a.createElement("h1",{className:"page__title"},"Discover all the events around Madrid")),a?r.a.createElement("p",null,"Loading..."):r.a.createElement("section",{className:"card-list__section"},r.a.createElement(g,{data:t})))}),b=(a(68),a(69),function(e){var t,a,n=e.linkBuy,c=e.minimunPrice,i=e.maximunPrice;return void 0!==c||void 0!==i?r.a.createElement("section",{className:"purchase"},r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"purchase__btn-buy"},"Buy your ticket - ",(t=c)===(a=i)?"0.00"===t?"Free":"".concat(t,"\u20ac"):"0.00"===t?"Free - ".concat(a,"\u20ac"):"".concat(t,"\u20ac - ").concat(a,"\u20ac"))):r.a.createElement("section",{className:"purchase"},r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"purchase__btn-buy"},"Loading..."))}),N=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getInfoEvent=function(e){h.get("events/".concat(e,"/?expand=ticket_availability")).then(function(e){a.setState({maxPrice:e.data.ticket_availability.maximum_ticket_price,minPrice:e.data.ticket_availability.minimum_ticket_price})})},a.createMarkup=function(e){return{__html:e}};var n=a.props.match.params.id;return a.state={idEvent:n,maxPrice:{},minPrice:{}},a}return Object(v.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.idEvent;this.getInfoEvent(e)}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.dataArr,c=this.state,i=c.maxPrice,s=c.minPrice;return r.a.createElement(n.Fragment,null,t?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"detail"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"wrapper__image"},r.a.createElement("img",{className:"detail-photo",src:a.logo.original.url,alt:a.name.text})),r.a.createElement("div",{className:"wrapper__info"},r.a.createElement(l.b,{className:"detail-arrow",to:"/"},r.a.createElement("div",{className:"arrow-container"},r.a.createElement("i",{className:"fas fa-arrow-left"}))),r.a.createElement("div",{className:"event-detail__info-container"},r.a.createElement("p",{className:"event-detail__date"},"Fecha"),r.a.createElement("h1",{className:"event-detail__title"},a.name.text),r.a.createElement("p",{className:"event-detail__calendar"},"A\xf1adir al calendario")),r.a.createElement("p",{className:"event-detail__place"},"Place"),r.a.createElement("div",{className:"event-detail__description",dangerouslySetInnerHTML:this.createMarkup(a.description.html)}))),r.a.createElement(b,{linkBuy:a.url,priceTicket:a,minimunPrice:s.major_value,maximunPrice:i.major_value})))}}]),t}(n.PureComponent),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getEvents=function(e){h.get("events/search/?expand=venue&location.address=madrid&page=".concat(e)).then(function(e){return a.setState({events:e.data.events,isFetching:!1})})},a.state={events:[],isFetching:!0,currentPage:1},a.getEvents=a.getEvents.bind(Object(d.a)(a)),a.detailEvent=a.detailEvent.bind(Object(d.a)(a)),a.handleMoreResultsClick=a.handleMoreResultsClick.bind(Object(d.a)(a)),a}return Object(v.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.currentPage;this.getEvents(e)}},{key:"detailEvent",value:function(e){return this.state.events.find(function(t){return t.id===e})}},{key:"handleMoreResultsClick",value:function(){var e=this.state.currentPage;this.setState(function(e){return{currentPage:e.currentPage+1,isFetching:!0}}),this.getEvents(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.events,n=t.isFetching;return r.a.createElement("div",{className:"App"},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(f,{dataArr:a,loading:n})}}),r.a.createElement(p.a,{path:"/detail/:id",render:function(t){return r.a.createElement(N,{loading:n,match:t.match,dataArr:e.detailEvent(t.match.params.id)})}})),r.a.createElement("button",{type:"button",className:"btn-more",onClick:this.handleMoreResultsClick},"More results"))}}]),t}(n.PureComponent);i.a.render(r.a.createElement(l.a,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.659446c5.chunk.js.map