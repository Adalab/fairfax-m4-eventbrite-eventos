(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,a,t){e.exports=t(72)},37:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(28),l=t.n(r),i=t(7),s=(t(37),t(18)),o=t(10),m=t(11),u=t(13),d=t(12),v=t(14),E=t(6),p=t(8),h=t(29),_=t.n(h).a.create({baseURL:"https://www.eventbriteapi.com/v3/",headers:{Authorization:"Bearer ".concat("FIMWFJEI7CK7X43OY5AB")}}),g=(t(57),t(58),function(e){var a=e.eventName,t=e.eventImage,n=e.eventDate,r=e.eventPlace,l=new Date(n),i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()],s=["January","February","March","April","May","June","July","August","September","October","November","December"][l.getMonth()].substring(0,3),o=l.getDate(),m="".concat(i,", ").concat(s," ").concat(o," ");return c.a.createElement("div",{className:"card__container"},c.a.createElement("div",{className:"img__container",style:{backgroundImage:"url(".concat(t,")")}}),c.a.createElement("div",{className:"info__container"},c.a.createElement("p",{className:"card__event-date"},m),c.a.createElement("h2",{className:"card__event-name"},a),c.a.createElement("p",{className:"card__event-place"},"".concat(r,", Madrid"))))}),b=(t(59),function(e){var a=e.data,t=e.moreResultsClick;return c.a.createElement("ul",{className:"event-list__container"},a.map(function(e){var a;return a=null!==e.logo?e.logo.url:"https://www.eventbrite.es/static/images/search/placeholder3.png",c.a.createElement("li",{key:e.id},c.a.createElement(i.b,{to:"/detail/".concat(e.id)},c.a.createElement(g,{eventName:e.name.text,eventImage:a,eventDate:e.start.local,eventPlace:e.venue.name})))}),c.a.createElement("button",{type:"button",className:"results-btn",onClick:t},"More results"))}),f=(t(68),t(69),function(e){var a=e.classLoading;return c.a.createElement("div",{className:a},c.a.createElement("div",{className:"lds-facebook"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),N=function(e){var a=e.dataArr,t=e.loading,n=e.moreResultsClick,r="card-list__section";return t&&(r+=" hidden__card-list"),c.a.createElement("div",{className:"page__container"},c.a.createElement("div",{className:"circle"},c.a.createElement("div",{className:"circle--back"}),c.a.createElement("div",{className:"circle--front"})),c.a.createElement("header",{className:"page__header"},c.a.createElement("h1",{className:"page__title"},"Discover all the events around Madrid")),t&&c.a.createElement(f,{classLoading:"loading__container"}),c.a.createElement("section",{className:r},c.a.createElement(b,{data:a,moreResultsClick:n})))},k=(t(70),t(71),function(e){var a,t,n=e.linkBuy,r=e.minimunPrice,l=e.maximunPrice;return void 0!==r||void 0!==l?c.a.createElement("section",{className:"purchase"},c.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"purchase__btn-buy"},"Buy your ticket - ",(a=r)===(t=l)?"0.00"===a?"Free":"".concat(a,"\u20ac"):"0.00"===a?"Free - ".concat(t,"\u20ac"):"".concat(a,"\u20ac - ").concat(t,"\u20ac"))):c.a.createElement("section",{className:"purchase"},c.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"purchase__btn-buy"},"Loading..."))}),y=function(e){function a(e){var t;Object(o.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).getInfoEvent=function(e){_.get("events/".concat(e,"/?expand=ticket_availability")).then(function(e){t.setState({maxPrice:e.data.ticket_availability.maximum_ticket_price,minPrice:e.data.ticket_availability.minimum_ticket_price})})},t.createMarkup=function(e){return{__html:e}};var n=t.props.match.params.id;return t.state={idEvent:n,maxPrice:{},minPrice:{}},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.idEvent;this.getInfoEvent(e)}},{key:"render",value:function(){if(this.props.loading)return c.a.createElement(f,{classLoading:"loading__container"});var e=this.props.dataArr,a=this.state,t=a.maxPrice,r=a.minPrice,l=new Date(e.start.local),s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()],o=["January","February","March","April","May","June","July","August","September","October","November","December"][l.getMonth()],m=l.getDate(),u=l.getFullYear(),d="".concat(s,", ").concat(o," ").concat(m,", ").concat(u);return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"detail"},c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"wrapper__image"},c.a.createElement("img",{className:"detail-photo",src:e.logo.original.url,alt:e.name.text})),c.a.createElement("div",{className:"wrapper__info"},c.a.createElement(i.b,{className:"detail-arrow",to:"/"},c.a.createElement("div",{className:"arrow-container"},c.a.createElement("i",{className:"fas fa-arrow-left"}))),c.a.createElement("div",{className:"event-detail__info-container"},c.a.createElement("p",{className:"event-detail__date"},d),c.a.createElement("h1",{className:"event-detail__title"},e.name.text),c.a.createElement("p",{className:"event-detail__calendar"},"A\xf1adir al calendario")),c.a.createElement("div",{className:"event-detail__place"},null!==e.venue.name&&c.a.createElement("span",{className:"venue"},e.venue.name," -"),null!==e.venue.address.address_1&&c.a.createElement("span",{className:"venue"},e.venue.address.address_1,","),null!==e.venue.address.postal_code&&c.a.createElement("span",{className:"venue"},e.venue.address.postal_code,","),null!==e.venue.address.city&&c.a.createElement("span",{className:"venue"},e.venue.address.city,".")),c.a.createElement("div",{className:"event-detail__description",dangerouslySetInnerHTML:this.createMarkup(e.description.html)}))),c.a.createElement(k,{linkBuy:e.url,priceTicket:e,minimunPrice:r.major_value,maximunPrice:t.major_value})))}}]),a}(n.PureComponent),M=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).getEvents=function(e){_.get("events/search/?expand=venue&location.address=madrid&page=".concat(e)).then(function(e){return t.setState(function(a){var t=a.events,n=e.data.events;return{events:[].concat(Object(s.a)(t),Object(s.a)(n)),isFetching:!1}})})},t.state={events:[],isFetching:!0,currentPage:1},t.getEvents=t.getEvents.bind(Object(E.a)(Object(E.a)(t))),t.detailEvent=t.detailEvent.bind(Object(E.a)(Object(E.a)(t))),t.handleMoreResultsClick=t.handleMoreResultsClick.bind(Object(E.a)(Object(E.a)(t))),t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.currentPage;this.getEvents(e)}},{key:"detailEvent",value:function(e){return this.state.events.find(function(a){return a.id===e})}},{key:"handleMoreResultsClick",value:function(){var e=this.state.currentPage+1;this.setState({currentPage:e,isFetching:!0}),this.getEvents(e)}},{key:"render",value:function(){var e=this,a=this.state,t=a.events,n=a.isFetching;return c.a.createElement("div",{className:"App"},c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,path:"/",render:function(){return c.a.createElement(N,{dataArr:t,loading:n,moreResultsClick:e.handleMoreResultsClick})}}),c.a.createElement(p.a,{path:"/detail/:id",render:function(a){return c.a.createElement(y,{loading:n,match:a.match,dataArr:e.detailEvent(a.match.params.id)})}})))}}]),a}(n.PureComponent);l.a.render(c.a.createElement(i.a,null,c.a.createElement(M,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.6b2433b2.chunk.js.map