{"version":3,"sources":["api/eb-api.js","components/EventCard/index.js","components/CardEventList/index.js","components/HomePage/index.js","components/Purchase/index.js","components/DetailEvent/index.js","components/App/index.js","index.js"],"names":["api","axios","create","baseURL","headers","Authorization","concat","process","EventCard","props","eventName","eventImage","eventDate","eventPlace","date","Date","dayWeek","getDay","month","getMonth","substring","numDay","getDate","formatedDate","react_default","a","createElement","className","style","backgroundImage","CardEventList","data","map","event","logo","url","key","id","react_router_dom","to","components_EventCard","name","text","start","local","venue","HomePage","dataArr","loading","components_CardEventList","Purchase","min","max","linkBuy","minimunPrice","maximunPrice","undefined","href","target","rel","DetailEvent","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getInfoEvent","get","then","res","setState","maxPrice","ticket_availability","maximum_ticket_price","minPrice","minimum_ticket_price","createMarkup","html","__html","match","params","state","idEvent","_this$props","_this$state","react","src","original","alt","dangerouslySetInnerHTML","description","components_Purchase","priceTicket","major_value","PureComponent","App","getEvents","page","events","isFetching","currentPage","bind","assertThisInitialized","detailEvent","handleMoreResultsClick","find","prevState","_this2","react_router","exact","path","render","components_HomePage","routerProps","components_DetailEvent","type","onClick","ReactDOM","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.659446c5.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = process.env.REACT_APP_API_KEY;\nconst api = axios.create({\n  baseURL: 'https://www.eventbriteapi.com/v3/',\n  headers: { Authorization: `Bearer ${API_KEY}` },\n});\n\nexport default api;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst EventCard = props => {\n  const { eventName, eventImage, eventDate, eventPlace } = props;\n\n  const date = new Date(eventDate);\n  const week = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  const months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n  ];\n\n  const dayWeek = week[date.getDay()];\n  const month = months[date.getMonth()].substring(0, 3);\n  const numDay = date.getDate();\n  const formatedDate = `${dayWeek}, ${month} ${numDay} `;\n  return (\n    <div className=\"card__container\">\n      <div\n        className=\"img__container\"\n        style={{ backgroundImage: `url(${eventImage})` }}\n      />\n      <div className=\"info__container\">\n        <p className=\"card__event-date\">{formatedDate}</p>\n        <h2 className=\"card__event-name\">{eventName}</h2>\n        <p className=\"card__event-place\">{`${eventPlace}, Madrid`}</p>\n      </div>\n    </div>\n  );\n};\n\nEventCard.propTypes = {\n  eventName: PropTypes.string.isRequired,\n  eventImage: PropTypes.string.isRequired,\n  eventDate: PropTypes.string.isRequired,\n  eventPlace: PropTypes.string.isRequired,\n};\n\nexport default EventCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport EventCard from '../EventCard';\nimport './styles.scss';\n\nconst CardEventList = props => {\n  const { data } = props;\n  const defaultImage =\n    'https://www.eventbrite.es/static/images/search/placeholder3.png';\n  return (\n    <ul className=\"event-list__container\">\n      {data.map(event => {\n        let logo;\n        if (event.logo !== null) {\n          logo = event.logo.url;\n        } else {\n          logo = defaultImage;\n        }\n        return (\n          <li key={event.id}>\n            <Link to={`/detail/${event.id}`}>\n              <EventCard\n                eventName={event.name.text}\n                eventImage={logo}\n                eventDate={event.start.local}\n                eventPlace={event.venue.name}\n              />\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nCardEventList.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n};\n\nexport default CardEventList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CardEventList from '../CardEventList';\nimport './styles.scss';\n\nconst HomePage = props => {\n  const { dataArr, loading } = props;\n  return (\n    <div className=\"page__container\">\n      <div className=\"circle\">\n        <div className=\"circle--back\" />\n        <div className=\"circle--front\" />\n      </div>\n      <header className=\"page__header\">\n        <h1 className=\"page__title\">Discover all the events around Madrid</h1>\n      </header>\n      {loading ? (\n        <p>Loading...</p>\n      ) : (\n        <section className=\"card-list__section\">\n          <CardEventList data={dataArr} />\n        </section>\n      )}\n    </div>\n  );\n};\n\nHomePage.propTypes = {\n  dataArr: PropTypes.arrayOf(PropTypes.object).isRequired,\n  loading: PropTypes.bool.isRequired,\n};\n\nexport default HomePage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './styles.scss';\n\nconst getPrice = (min, max) => {\n  if (min === max) {\n    if (min === '0.00') {\n      return 'Free';\n    }\n    return `${min}€`;\n  }\n  if (min === '0.00') {\n    return `Free - ${max}€`;\n  }\n  return `${min}€ - ${max}€`;\n};\n\nconst Purchase = props => {\n  const { linkBuy, minimunPrice, maximunPrice } = props;\n  if (minimunPrice !== undefined || maximunPrice !== undefined) {\n    return (\n      <section className=\"purchase\">\n        <a\n          href={linkBuy}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"purchase__btn-buy\"\n        >\n          Buy your ticket - {getPrice(minimunPrice, maximunPrice)}\n        </a>\n      </section>\n    );\n  }\n  return (\n    <section className=\"purchase\">\n      <a\n        href={linkBuy}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"purchase__btn-buy\"\n      >\n        Loading...\n      </a>\n    </section>\n  );\n};\n\nPurchase.propTypes = {\n  linkBuy: PropTypes.string.isRequired,\n  minimunPrice: PropTypes.string.isRequired,\n  maximunPrice: PropTypes.string.isRequired,\n};\n\nexport default Purchase;\n","import React, { Fragment, PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport './styles.scss';\nimport PropTypes from 'prop-types';\nimport Purchase from '../Purchase/index';\nimport api from '../../api/eb-api';\n\nclass DetailEvent extends PureComponent {\n  constructor(props) {\n    super(props);\n    // eslint-disable-next-line react/prop-types\n    const { match } = this.props;\n    const { id } = match.params;\n    this.state = {\n      idEvent: id,\n      maxPrice: {},\n      minPrice: {},\n    };\n  }\n\n  componentDidMount() {\n    const { idEvent } = this.state;\n    this.getInfoEvent(idEvent);\n  }\n\n  getInfoEvent = id => {\n    api.get(`events/${id}/?expand=ticket_availability`).then(res => {\n      this.setState({\n        maxPrice: res.data.ticket_availability.maximum_ticket_price,\n        minPrice: res.data.ticket_availability.minimum_ticket_price,\n      });\n    });\n  };\n\n  createMarkup = html => {\n    return { __html: html };\n  };\n\n  render() {\n    const { loading, dataArr } = this.props;\n    const { maxPrice, minPrice } = this.state;\n    return (\n      <Fragment>\n        {loading ? (\n          <p>Loading</p>\n        ) : (\n          <div className=\"detail\">\n            <div className=\"wrapper\">\n              <div className=\"wrapper__image\">\n                <img\n                  className=\"detail-photo\"\n                  src={dataArr.logo.original.url}\n                  alt={dataArr.name.text}\n                />\n              </div>\n              <div className=\"wrapper__info\">\n                <Link className=\"detail-arrow\" to=\"/\">\n                  <div className=\"arrow-container\">\n                    <i className=\"fas fa-arrow-left\" />\n                  </div>\n                </Link>\n                <div className=\"event-detail__info-container\">\n                  <p className=\"event-detail__date\">Fecha</p>\n                  <h1 className=\"event-detail__title\">{dataArr.name.text}</h1>\n                  <p className=\"event-detail__calendar\">Añadir al calendario</p>\n                </div>\n                <p className=\"event-detail__place\">Place</p>\n                <div\n                  className=\"event-detail__description\"\n                  // eslint-disable-next-line react/no-danger\n                  dangerouslySetInnerHTML={this.createMarkup(\n                    dataArr.description.html,\n                  )}\n                />\n              </div>\n            </div>\n            <Purchase\n              linkBuy={dataArr.url}\n              priceTicket={dataArr}\n              minimunPrice={minPrice.major_value}\n              maximunPrice={maxPrice.major_value}\n            />\n          </div>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDetailEvent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  dataArr: PropTypes.objectOf().isRequired,\n};\n\nexport default DetailEvent;\n","import React, { PureComponent } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport api from '../../api/eb-api';\n\nimport './styles.scss';\n\nimport HomePage from '../HomePage';\nimport DetailEvent from '../DetailEvent';\n\nclass App extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      events: [],\n      isFetching: true,\n      currentPage: 1,\n    };\n    this.getEvents = this.getEvents.bind(this);\n    this.detailEvent = this.detailEvent.bind(this);\n    this.handleMoreResultsClick = this.handleMoreResultsClick.bind(this);\n  }\n\n  componentDidMount() {\n    const { currentPage } = this.state;\n    this.getEvents(currentPage);\n  }\n\n  getEvents = page => {\n    api\n      .get(`events/search/?expand=venue&location.address=madrid&page=${page}`)\n      .then(res =>\n        this.setState({\n          events: res.data.events,\n          isFetching: false,\n        }),\n      );\n  };\n\n  detailEvent(id) {\n    const { events } = this.state;\n    return events.find(event => event.id === id);\n  }\n\n  handleMoreResultsClick() {\n    const { currentPage } = this.state;\n    this.setState(prevState => {\n      return {\n        currentPage: prevState.currentPage + 1,\n        isFetching: true,\n      };\n    });\n    this.getEvents(currentPage);\n  }\n\n  render() {\n    const { events, isFetching } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={() => <HomePage dataArr={events} loading={isFetching} />}\n          />\n          <Route\n            path=\"/detail/:id\"\n            render={routerProps => (\n              <DetailEvent\n                loading={isFetching}\n                match={routerProps.match}\n                dataArr={this.detailEvent(routerProps.match.params.id)}\n              />\n            )}\n          />\n        </Switch>\n        <button\n          type=\"button\"\n          className=\"btn-more\"\n          onClick={this.handleMoreResultsClick}\n        >\n          More results\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './components/App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}